@model IEnumerable<TodoCycle.Core.Task>

@{
    ViewBag.Title = "Index";
}

@section Scripts
{
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.8/angular.js"></script>
    <script type="text/javascript" src="~/Scripts/angular/tasksApp.js"></script>
    <!-- sortable -->
    <script type="text/javascript" src="http://cdn.jsdelivr.net/g/jquery.ui@1.10(jquery.ui.core.min.js+jquery.ui.widget.min.js+jquery.ui.mouse.min.js+jquery.ui.sortable.min.js),angular.ui-sortable"></script>
    <!-- noty -->
    <script type="text/javascript" src="~/Scripts/jquery.noty.packaged.min.js"></script>
    <script type="text/javascript" src="~/Scripts/angular-noty.dist.js"></script>
}

<div ng-app="app" class="col-lg-12">
    <div ng-controller="TasksController as controller">
        <div class="col-lg-6">
            <h2>
                Tasks <input type="text" placeholder="New Task" ng-model="controller.newTask" ng-keyup="createTaskIfPressedEnter($event);" /> (<a ng-click="createNewTask();">+</a>)          
            </h2>
            <div ui-sortable="sortableOptions" ng-model="controller.tasks">
                <div class="task" ng-repeat="task in controller.tasks" ng-cloak>
                    <input type="checkbox" ng-model="model" ng-change="toggleComplete(task);" />&nbsp;
                    {{ task.Name }}
                </div>

            </div>
        </div>

        <div class="col-lg-6">
            <h2>Scheduled</h2>
            <div ui-sortable="scheduledSortableOptions" ng-model="controller.scheduledTasks">
                <div class="task" ng-repeat="task in controller.scheduledTasks" ng-cloak>
                    {{ task.Name }}
                </div>

            </div>
        </div>

        @* Without this, having multiple side-by-side lists won't work (the touch events don't trigger if the two lists overlap). *@
        <div style="clear: both;"></div>
    </div>
</div>